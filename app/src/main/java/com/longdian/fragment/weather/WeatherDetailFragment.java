package com.longdian.fragment.weather;

import android.os.Bundle;
import android.support.annotation.Nullable;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

import com.kelin.scrollablepanel.library.ScrollablePanel;
import com.longdian.R;
import com.longdian.fragment.BaseDatePickerFragment;
import com.longdian.fragment.runningstate.TestPanelAdapter;
import com.longdian.fragment.weather.model.WeatherData;
import com.longdian.service.HoolaiException;
import com.longdian.service.HoolaiHttpMethods;
import com.longdian.service.base.ObserverOnNextAndErrorListener;
import com.longdian.util.ToastUtils;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class WeatherDetailFragment extends BaseDatePickerFragment {

    private String dd = "{\"value\":{\"dt\":\"21\",\"weatherDataStal\":{\"id\":539,\"staId\":\"50745\",\"day\":\"20170621\",\"hour\":\"13\",\"prs\":989.9,\"prsSea\":1007.3,\"prsMax\":989.9,\"prsMin\":989.2,\"tem\":17.4,\"temMax\":19.2,\"temMin\":17.4,\"rhu\":87.0,\"rhuMin\":74.0,\"vap\":17.3,\"pre1h\":0.0,\"winDInstMax\":255.0,\"winSMax\":1.8,\"winDSMax\":252.0,\"winSAvg10Mi\":1.8,\"winDAvg10mi\":255.0,\"winSInstMax\":2.2,\"crtDt\":\"20170621\",\"crtTm\":\"220004\"},\"winName\":\"轻风\",\"data7\":[{\"id\":121,\"day\":\"20170618\",\"teL\":15.0,\"teH\":26.0,\"teA\":20.5,\"teWd1\":\"西北风\",\"teWd2\":\"西北风\",\"teWe1\":\"微风\",\"teWe2\":\"微风\",\"teC1\":\"阵雨\",\"teC2\":\"多云\",\"teI1\":\"d03\",\"teI2\":\"n01\",\"hour3Data\":\"[{\\\"d\\\":\\\"18日08时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"17\\\",\\\"i\\\":\\\"d07\\\",\\\"y\\\":\\\"小雨\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"18日11时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"18\\\",\\\"i\\\":\\\"d03\\\",\\\"y\\\":\\\"阵雨\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"18日14时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"19\\\",\\\"i\\\":\\\"d03\\\",\\\"y\\\":\\\"阵雨\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"18日17时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"24\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"18日20时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"23\\\",\\\"i\\\":\\\"n01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"18日23时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"16\\\",\\\"i\\\":\\\"n01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"19日02时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"15\\\",\\\"i\\\":\\\"n01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"19日05时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"17\\\",\\\"i\\\":\\\"n01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"}]\",\"cityNo\":\"101050201\",\"crtDt\":\"20170618\",\"crtTm\":\"151500\"},{\"id\":122,\"day\":\"20170619\",\"teL\":15.0,\"teH\":26.0,\"teA\":20.5,\"teWd1\":\"西北风\",\"teWd2\":\"西北风\",\"teWe1\":\"微风\",\"teWe2\":\"微风\",\"teC1\":\"多云\",\"teC2\":\"阵雨\",\"teI1\":\"d01\",\"teI2\":\"n03\",\"hour3Data\":\"[{\\\"d\\\":\\\"19日08时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"19\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"19日11时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"24\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"19日14时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"25\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"19日17时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"25\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"19日20时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"19\\\",\\\"i\\\":\\\"n01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"19日23时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"15\\\",\\\"i\\\":\\\"n02\\\",\\\"y\\\":\\\"阴\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"20日02时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"15\\\",\\\"i\\\":\\\"n02\\\",\\\"y\\\":\\\"阴\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"20日05时\\\",\\\"f\\\":\\\"西北风\\\",\\\"w\\\":\\\"17\\\",\\\"i\\\":\\\"n01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"}]\",\"cityNo\":\"101050201\",\"crtDt\":\"20170619\",\"crtTm\":\"151500\"},{\"id\":123,\"day\":\"20170620\",\"teL\":16.0,\"teH\":24.0,\"teA\":20.0,\"teWd1\":\"东北风\",\"teWd2\":\"东北风\",\"teWe1\":\"3-4级\",\"teWe2\":\"3-4级\",\"teC1\":\"阵雨\",\"teC2\":\"阵雨\",\"teI1\":\"d03\",\"teI2\":\"n03\",\"hour3Data\":\"[{\\\"d\\\":\\\"20日08时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"19\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"20日11时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"23\\\",\\\"i\\\":\\\"d03\\\",\\\"y\\\":\\\"阵雨\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"20日14时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"23\\\",\\\"i\\\":\\\"d03\\\",\\\"y\\\":\\\"阵雨\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"20日17时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"18\\\",\\\"i\\\":\\\"d03\\\",\\\"y\\\":\\\"阵雨\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"20日20时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"18\\\",\\\"i\\\":\\\"n03\\\",\\\"y\\\":\\\"阵雨\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"20日23时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"16\\\",\\\"i\\\":\\\"n03\\\",\\\"y\\\":\\\"阵雨\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"21日02时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"16\\\",\\\"i\\\":\\\"n03\\\",\\\"y\\\":\\\"阵雨\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"21日05时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"16\\\",\\\"i\\\":\\\"n03\\\",\\\"y\\\":\\\"阵雨\\\",\\\"j\\\":\\\"3-4级\\\"}]\",\"cityNo\":\"101050201\",\"crtDt\":\"20170620\",\"crtTm\":\"151500\"},{\"id\":124,\"day\":\"20170621\",\"teL\":15.0,\"teH\":23.0,\"teA\":19.0,\"teWd1\":\"东北风\",\"teWd2\":\"东北风\",\"teWe1\":\"3-4级\",\"teWe2\":\"3-4级\",\"teC1\":\"阵雨\",\"teC2\":\"晴\",\"teI1\":\"d03\",\"teI2\":\"n00\",\"hour3Data\":\"[{\\\"d\\\":\\\"21日08时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"17\\\",\\\"i\\\":\\\"d02\\\",\\\"y\\\":\\\"阴\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"21日11时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"19\\\",\\\"i\\\":\\\"d03\\\",\\\"y\\\":\\\"阵雨\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"21日14时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"21\\\",\\\"i\\\":\\\"d02\\\",\\\"y\\\":\\\"阴\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"21日17时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"21\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"21日20时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"19\\\",\\\"i\\\":\\\"n01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"21日23时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"16\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"22日02时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"15\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"22日05时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"15\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"3-4级\\\"}]\",\"cityNo\":\"101050201\",\"crtDt\":\"20170621\",\"crtTm\":\"151500\"},{\"id\":125,\"day\":\"20170622\",\"teL\":17.0,\"teH\":31.0,\"teA\":24.0,\"teWd1\":\"东北风\",\"teWd2\":\"西南风\",\"teWe1\":\"微风\",\"teWe2\":\"微风\",\"teC1\":\"多云\",\"teC2\":\"晴\",\"teI1\":\"d01\",\"teI2\":\"n00\",\"hour3Data\":\"[{\\\"d\\\":\\\"22日08时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"24\\\",\\\"i\\\":\\\"d00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"22日11时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"29\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"22日14时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"30\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"22日17时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"28\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"22日20时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"23\\\",\\\"i\\\":\\\"n01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"22日23时\\\",\\\"f\\\":\\\"西南风\\\",\\\"w\\\":\\\"18\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"23日02时\\\",\\\"f\\\":\\\"西南风\\\",\\\"w\\\":\\\"17\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"23日05时\\\",\\\"f\\\":\\\"西南风\\\",\\\"w\\\":\\\"17\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"微风\\\"}]\",\"cityNo\":\"101050201\",\"crtDt\":\"20170621\",\"crtTm\":\"211500\"},{\"id\":126,\"day\":\"20170623\",\"teL\":19.0,\"teH\":32.0,\"teA\":25.5,\"teWd1\":\"西南风\",\"teWd2\":\"南风\",\"teWe1\":\"微风\",\"teWe2\":\"微风\",\"teC1\":\"多云\",\"teC2\":\"晴\",\"teI1\":\"d01\",\"teI2\":\"n00\",\"hour3Data\":\"[{\\\"d\\\":\\\"23日08时\\\",\\\"f\\\":\\\"西南风\\\",\\\"w\\\":\\\"26\\\",\\\"i\\\":\\\"d00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"23日11时\\\",\\\"f\\\":\\\"西南风\\\",\\\"w\\\":\\\"30\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"23日14时\\\",\\\"f\\\":\\\"西南风\\\",\\\"w\\\":\\\"31\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"23日17时\\\",\\\"f\\\":\\\"西南风\\\",\\\"w\\\":\\\"31\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"23日20时\\\",\\\"f\\\":\\\"西南风\\\",\\\"w\\\":\\\"26\\\",\\\"i\\\":\\\"n01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"23日23时\\\",\\\"f\\\":\\\"南风\\\",\\\"w\\\":\\\"24\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"24日02时\\\",\\\"f\\\":\\\"南风\\\",\\\"w\\\":\\\"19\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"24日05时\\\",\\\"f\\\":\\\"南风\\\",\\\"w\\\":\\\"19\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"微风\\\"}]\",\"cityNo\":\"101050201\",\"crtDt\":\"20170621\",\"crtTm\":\"211500\"},{\"id\":127,\"day\":\"20170624\",\"teL\":20.0,\"teH\":33.0,\"teA\":26.5,\"teWd1\":\"南风\",\"teWd2\":\"北风\",\"teWe1\":\"微风\",\"teWe2\":\"微风\",\"teC1\":\"多云\",\"teC2\":\"晴\",\"teI1\":\"d01\",\"teI2\":\"n00\",\"hour3Data\":\"[{\\\"d\\\":\\\"24日08时\\\",\\\"f\\\":\\\"南风\\\",\\\"w\\\":\\\"27\\\",\\\"i\\\":\\\"d00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"24日11时\\\",\\\"f\\\":\\\"南风\\\",\\\"w\\\":29,\\\"i\\\":\\\"d00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"24日11时\\\",\\\"f\\\":\\\"南风\\\",\\\"w\\\":\\\"31\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"24日11时\\\",\\\"f\\\":\\\"南风\\\",\\\"w\\\":31,\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"24日14时\\\",\\\"f\\\":\\\"南风\\\",\\\"w\\\":\\\"32\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"24日14时\\\",\\\"f\\\":\\\"南风\\\",\\\"w\\\":31,\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"24日17时\\\",\\\"f\\\":\\\"南风\\\",\\\"w\\\":\\\"31\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"24日17时\\\",\\\"f\\\":\\\"南风\\\",\\\"w\\\":30,\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"24日20时\\\",\\\"f\\\":\\\"南风\\\",\\\"w\\\":\\\"26\\\",\\\"i\\\":\\\"n01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"25日02时\\\",\\\"f\\\":\\\"北风\\\",\\\"w\\\":\\\"20\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"微风\\\"}]\",\"cityNo\":\"101050201\",\"crtDt\":\"20170621\",\"crtTm\":\"211500\"}],\"xiangsu\":\"53.6000000000000007549516567451064474880695343017578125\",\"weatherData\":{\"id\":124,\"day\":\"20170621\",\"teL\":15.0,\"teH\":23.0,\"teA\":19.0,\"teWd1\":\"东北风\",\"teWd2\":\"东北风\",\"teWe1\":\"3-4级\",\"teWe2\":\"3-4级\",\"teC1\":\"阵雨\",\"teC2\":\"晴\",\"teI1\":\"d03\",\"teI2\":\"n00\",\"hour3Data\":\"[{\\\"d\\\":\\\"21日08时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"17\\\",\\\"i\\\":\\\"d02\\\",\\\"y\\\":\\\"阴\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"21日11时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"19\\\",\\\"i\\\":\\\"d03\\\",\\\"y\\\":\\\"阵雨\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"21日14时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"21\\\",\\\"i\\\":\\\"d02\\\",\\\"y\\\":\\\"阴\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"21日17时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"21\\\",\\\"i\\\":\\\"d01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"21日20时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"19\\\",\\\"i\\\":\\\"n01\\\",\\\"y\\\":\\\"多云\\\",\\\"j\\\":\\\"微风\\\"},{\\\"d\\\":\\\"21日23时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"16\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"22日02时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"15\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"3-4级\\\"},{\\\"d\\\":\\\"22日05时\\\",\\\"f\\\":\\\"东北风\\\",\\\"w\\\":\\\"15\\\",\\\"i\\\":\\\"n00\\\",\\\"y\\\":\\\"晴\\\",\\\"j\\\":\\\"3-4级\\\"}]\",\"cityNo\":\"101050201\",\"crtDt\":\"20170621\",\"crtTm\":\"151500\"},\"shikuang\":\"22:00\",\"wendu\":17,\"winLevl\":\"2\"},\"code\":0,\"desc\":\"SUCCESS\"}";
    private ScrollablePanel scrollablePanel;

    @Nullable
    @Override
    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        final View baseView = inflater.inflate(R.layout.activity_scrollable_panel_test, container, false);
        init(baseView);
        getData();
        return baseView;
    }

    private void getData() {
        HoolaiHttpMethods.getInstance().weatherList(getActivity(), new ObserverOnNextAndErrorListener<List<WeatherData>>() {
            @Override
            public void onNext(List<WeatherData> weatherDataList) {
                List<Integer> vs = Arrays.asList(40, 80, 80, 80, 80, 80, 80, 80, 80);
                TestPanelAdapter testPanelAdapter = new TestPanelAdapter(createData(weatherDataList), TestPanelAdapter.width_type_dp, vs);
                scrollablePanel.setPanelAdapter(testPanelAdapter);
            }

            @Override
            public void onError(HoolaiException e) {
                ToastUtils.showToast(getActivity(), e.getMessage());
            }
        });
    }

    private void init(View view) {
        scrollablePanel = (ScrollablePanel) view.findViewById(R.id.id_scrollable_panel);
        initDatePicker(view);
    }

    @Override
    protected void doSearch() {
        getData();
    }

    private List<List<String>> createData(List<WeatherData> list) {
        List<List<String>> datas = new ArrayList<>();
        datas.add(Arrays.asList("序号", "预报日期", "白天最高温", "夜晚最底温", "平均温度", "白天天气状况", "夜晚天气状况", "白天风力风向", "夜晚风力风向"));
        for (int i = 0; i < list.size(); i++) {
            WeatherData s = list.get(i);
            List<String> row = Arrays.asList(i + 1 + "", s.getDay(), s.getTeH() + "", s.getTeL() + "", s.getTeA() + "", s.getTeC1(), s.getTeC2(), s.getTeWd1() + s.getTeWe1(), s.getTeWd2() + s.getTeWe2());
            datas.add(row);
        }
        return datas;
    }
}
